# 📅 2026-01-13

## 🎯 목표
- 로컬 Ubuntu 24.04 환경의 ROS2 Jazzy를 삭제하고, Docker 기반의 독립된 개발 환경 구축하기

## 📝 학습 내용
- [이론] **ROS2 개발에 Docker가 필요한 이유:** Dependency Hell 방지, 환경 일관성 유지(Reproducibility), 여러 버전의 ROS 동시 사용, 시스템 청결 유지.

- [실습] **Docker 설치 및 권한 설정:** 공식 GPG 키 등록 및 usermod를 통한 권한 부여.

- [실습] **ROS2 Jazzy 컨테이너 구동:** GUI 연동 및 네트워크 호스트 설정을 포함한 컨테이너 실행.

- [정리] **로컬 환경 리셋:** 시스템 최적화를 위해 기존 로컬 ROS2 패키지 및 환경 변수(~/.bashrc) 완전 삭제.

## 🔍 핵심 커맨드 분석: `docker run` 옵션
- **핵심 코드:**
  ```bash
  docker run -it --name ros2_jazzy_container \
  --net=host \
  -e DISPLAY=$DISPLAY \
  -v /tmp/.X11-unix:/tmp/.X11-unix \
  osrf/ros:jazzy-desktop
  ```
[분석]
- `--net=host`: 컨테이너가 호스트의 네트워크 스택을 공유함. ROS2의 DDS 통신 성능 최적화에 필수.

- `-e DISPLAY=$DISPLAY`: 호스트의 디스플레이 환경 변수를 컨테이너에 전달.

- `-v /tmp/.X11-unix:/tmp/.X11-unix`: 호스트의 X11 소켓을 공유하여 컨테이너 내 GUI 앱(Rviz2 등)을 화면에 표시함.

## 🔍 직면한 문제 & 해결 (Troubleshooting)
- **문제:** `docker: Error response from daemon: Conflict.` 발생.
- **원인:** 동일한 이름을 가진 컨테이너(`ros2_jazzy_container`)가 이미 존재함.
- **해결:** `docker start`로 기존 컨테이너를 재사용하거나, `docker rm -f`로 삭제 후 재생성함. 향후 일회성 테스트에는 `--rm` 옵션을 사용하기로 함.

## 💡 인사이트 (오늘 깨달은 것)
- 로컬 환경을 직접 수정하는 것보다 Docker를 사용하는 것이 시스템 최적화 및 관리 측면에서 훨씬 유리하다는 것을 깨달았다.

- Docker의 성능 저하가 1~5% 내외로 미미하다는 점을 알았고, 환경 격리의 중요성을 다시 한번 느꼈다.

- 커널 레벨 공부(빌드)는 Docker가 좋지만, 실제 부팅 테스트는 QEMU와 같은 에뮬레이터가 병행되어야 함을 배웠다

## 🔗 참고 자료
- [Official] Docker Documentation: Install on Ubuntu

- [Wiki] ROS2 Docker Hub Repository (osrf/ros)